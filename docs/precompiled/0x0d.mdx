---
fork: Berlin
---

## Notes

This precompile performs multi-scalar multiplication (MSM) on the G1 subgroup of the BLS12-381 curve. It computes the sum of multiple point-scalar products in a single operation, which is more efficient than multiple individual scalar multiplications.

More information about BLS12-381 can be found in [EIP-2537](https://eips.ethereum.org/EIPS/eip-2537).

## Inputs

| Byte range | Name | Description |
|------------|------|-------------|
| `[0; 47]` (48 bytes) | p1 | First G1 point (x, y coordinates, each 24 bytes) |
| `[48; 95]` (48 bytes) | s1 | First scalar value (48 bytes) |
| `[96; 143]` (48 bytes) | p2 | Second G1 point (x, y coordinates, each 24 bytes) |
| `[144; 191]` (48 bytes) | s2 | Second scalar value (48 bytes) |
| ... | ... | Additional point-scalar pairs |

## Output

| Byte range | Name | Description |
|------------|------|-------------|
| `[0; 47]` (48 bytes) | p | Result G1 point (x, y coordinates, each 24 bytes) |

If any input point is invalid or not on the G1 subgroup, the precompile returns empty data, indicating a precompile contract error.

## Gas Cost

- **Base cost**: 1,000 gas
- **Per point-scalar pair**: 1,000 gas

## Example

| Input | Output |
|-------|--------|
| `0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb` | `0x0e0a77c19a07df2f666ea36f7879462e36fc76935f60c6d3b90c5c7eae10317b` |
| `0x0000000000000000000000000000000000000000000000000000000000000002` | |
| `0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1` | |
| `0x0000000000000000000000000000000000000000000000000000000000000003` | |

[Reproduce in playground](/playground?unit=Wei&codeType=Mnemonic&code='jFirsNplace_parameters%20in%20memoryZ17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bbwp1Y~Y~0000000000000000000000000000000000000000000000000000000000000002ws1Y~Y~08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1wp2Y~Y~0000000000000000000000000000000000000000000000000000000000000003ws2Y~YqqjDo_call~96JSizeX192JOffsetX8VSize~VOffset~13waddressW4QFFFFFFFFwgasqSTATICCALLqqjPut_resulNalonKon_stackqPOPX96qMLOAD'~W13%20w%20jq%5Cnj%2F%2F%20_%20thKZW48QY0qMSTOREX~0xWqPUSHV0wargsQ%200xNt%20Ke%20Jwret%01JKNQVWXYZ_jqw~_).
